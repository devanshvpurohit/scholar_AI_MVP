# Netlify Configuration for Scholar AI

[build]
  # Build command for the Angular frontend
  command = "cd frontend-angular && npm install --legacy-peer-deps && npm run build"
  # The directory to publish
  publish = "frontend-angular/dist/frontend-angular/browser"

[build.environment]
  NODE_VERSION = "20"
  NPM_FLAGS = "--legacy-peer-deps"

[[redirects]]
  # Redirect all SPA routes to index.html for Angular routing
  from = "/*"
  to = "/index.html"
  status = 200

# NOTE: Netlify is primarily for Static Web Apps.
# For the Python Flask Backend, it is highly recommended to:
# 1. Use Vercel (already configured in vercel.json) 
# 2. Or use Render / Railway for the backend.
# 3. Or convert backend to Netlify Functions (Python).
